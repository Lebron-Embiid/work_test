<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>line</title>
</head>
<body>
	<canvas id='canvas' style="display:block;margin:100px auto;"></canvas>
</body>
<script>
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");
	canvas.width = 700;
	canvas.height = 400;

	var date = {
		"number":[1,10,100,1000,10000],
		"font":["一","二","三","四","五","六","七","八","九"],
		"x":"x",
		"y":"y",
		"red":[-1,-38,-76,-112,-148,-186,-223,-260,-296],
		"blue":[-1,-25,-48,-71,-94,-118,-141,-164,-187],
		"arr":[0,0,0,0,0,0,0,0,0]
	}
	
	ctx.translate(60,340);
	ctx.beginPath();
	ctx.moveTo(0,0);
	ctx.lineTo(541,0);

	ctx.moveTo(0,10);
	ctx.lineTo(0,-313);
	ctx.stroke();

	var a = 0;
	var b = -78;
	function drawXY(){
		// ctx.clearRect(0,0,canvas.width,canvas.height);
		for(var i=0;i<date.font.length;i++){
			a+=60;
			ctx.save();
			ctx.beginPath();
			ctx.moveTo(a,0);
			ctx.lineTo(a,10);

			ctx.font = "16px Arial normal";
			ctx.fillText(date.font[i],a-35,30);
			ctx.fillText(date.x,560,10);
			ctx.fillText(date.y,-5,-330);
			ctx.stroke();
			ctx.fill();
			ctx.restore();
		}
		for(var j=0;j<date.number.length;j++){
			b+=78;
			ctx.save();
			ctx.beginPath();
			ctx.moveTo(0,-b);
			ctx.lineTo(-10,-b);
			ctx.stroke();

			ctx.font = "16px Arial normal";
			ctx.textAlign = "center";
			ctx.fillText(date.number[j],-30,-b+5);
			ctx.fill();

			ctx.beginPath();
			ctx.strokeStyle = "#ccc";
			ctx.moveTo(0,-b);
			ctx.lineTo(541,-b);
			ctx.stroke();
			ctx.restore();
		}
	}

	var c = 0;
	var d = 0;
	function drawTable(dt,n,color){
		// ctx.clearRect(0,0,canvas.width,canvas.height);
		ctx.beginPath();
		ctx.moveTo(30,0);
		for(var k=0;k<dt.length;k++){
			n+=60;
			// console.log(date.arr[k]);
			ctx.save();
			ctx.strokeStyle = color;
			ctx.lineTo(n-30,dt[k]);
			ctx.closePath();
			ctx.stroke();

			ctx.beginPath();
			ctx.fillStyle = "#fff";
			ctx.strokeStyle = color;
			ctx.arc(n-30,dt[k],3,0,2*Math.PI);
			ctx.fill();
			ctx.restore();
		}
	}
	function draw(){
		// ctx.clearRect(0,0,canvas.width,canvas.height);
		drawXY();
		drawTable(date.red,c,"#C23531");
		drawTable(date.blue,d,"#2F4554");
		// window.requestAnimationFrame(draw,30);
	}
	draw();

</script>
</html>